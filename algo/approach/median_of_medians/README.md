# Median of medians


## Info
Подход "median of medians" (медиана медиан) — это метод для нахождения приблизительной медианы в неотсортированном массиве с линейной временной сложностью O(n). 
Этот метод часто используется как часть алгоритма быстрого выбора (quickselect), который позволяет найти k-й наименьший элемент в массиве.


## Основные шаги метода "median of medians":
Разделение массива:
1. Разделяем массив на группы по 5 элементов (последняя группа может содержать меньше элементов).

2. Нахождение медиан каждой группы
Для каждой группы из 5 элементов находим медиану. Это можно сделать путем сортировки группы и выбора среднего элемента.

3. Рекурсивное нахождение медианы медиан
Медианы групп образуют новый массив. Рекурсивно применяем метод "median of medians" к этому массиву, чтобы найти его медиану. 
Этот элемент и будет нашей приблизительной медианой исходного массива.

4. Использование медианы медиан в quickselect
Медиана медиан используется как опорный элемент (pivot) в алгоритме quickselect для разделения массива на две части: 
элементы меньше опорного и элементы больше опорного.


## Пример
Рассмотрим массив [3, 1, 8, 2, 7, 4, 6, 5, 9, 0].

1. Разделение на группы  
Группы: [3, 1, 8, 2, 7], [4, 6, 5, 9, 0]

2. Нахождение медиан каждой группы
Медиана первой группы: [3, 1, 8, 2, 7] -> отсортированная группа: [1, 2, 3, 7, 8] -> медиана: 3  
Медиана второй группы: [4, 6, 5, 9, 0] -> отсортированная группа: [0, 4, 5, 6, 9] -> медиана: 5

3. Рекурсивное нахождение медианы медиан  
Массив медиан: [3, 5]  
Медиана медиан: 4  

4. Использование медианы медиан в quickselect:  
Используем 4 как опорный элемент для разделения исходного массива.


## Временная сложность
Общая временная сложность составляет O(n), что делает этот метод эффективным для нахождения приблизительной медианы в больших массивах.
- Разделение на группы: O(n)
- Нахождение медиан каждой группы: O(n) (так как каждая группа из 5 элементов сортируется за константное время)
- Рекурсивное нахождение медианы медиан: T(n/5)
- Quickselect с использованием медианы медиан: O(n)


## Применение
Метод "median of medians" используется в различных алгоритмах, где требуется нахождение k-го наименьшего элемента или медианы массива, 
например, в алгоритмах сортировки и выбора, а также в задачах оптимизации и машинного обучения.
 
1. Ранжирование результатов поиска  
В поисковых системах часто требуется выводить топ-k результатов, отсортированных по релевантности. 
Нахождение k-го наименьшего элемента помогает определить границу для вывода результатов.

2. Топ-k элементов  
В анализе данных и статистике часто требуется найти топ-k наиболее часто встречающихся элементов или топ-k элементов с наибольшими значениями.

3. Медиана и квантили  
Нахождение медианы массива (k-го наименьшего элемента при k = n/2) или других квантилей (например, квартилей, децилей) требует нахождения k-го наименьшего элемента.

4. Оптимизация  
В задачах оптимизации, таких как задача о k-средних (k-means clustering), требуется находить k центроидов или k ближайших соседей, что может быть сведено к нахождению k-го наименьшего элемента.

5. Cортировка и выбор  
Алгоритмы быстрой сортировки (quicksort) и быстрого выбора (quickselect) используют нахождение k-го наименьшего элемента для разделения массива на части.

6. Системы рекомендаций  
В системах рекомендаций, где требуется предлагать пользователю топ-k наиболее релевантных или популярных предметов, нахождение k-го наименьшего элемента помогает определить границу для вывода рекомендаций.

7. Анализ потоков данных  
В задачах анализа потоков данных, где данные поступают непрерывно, часто требуется находить k-й наименьший элемент или топ-k элементов в реальном времени.

8. Задачи на графах  
В задачах на графах, таких как поиск k-го кратчайшего пути или k-го ближайшего соседа, требуется нахождение k-го наименьшего элемента в массиве расстояний или весов.

9. Ранжирование в играх  
В многопользовательских играх или конкурсах часто требуется определять топ-k игроков по очкам или рейтингу, 
что требует нахождения k-го наименьшего элемента.

10. Анализ временных рядов  
В анализе временных рядов, где требуется находить k-е наименьшее значение в серии данных, 
нахождение k-го наименьшего элемента помогает в определении статистических характеристик данных.