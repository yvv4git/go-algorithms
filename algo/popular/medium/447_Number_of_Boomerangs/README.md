# 447. Number of Boomerangs


## Level - medium


## Task
You are given n points in the plane that are all distinct, where points[i] = [xi, yi]. 
A boomerang is a tuple of points (i, j, k) such that the distance between i and j equals the distance between i and k (the order of the tuple matters).

Return the number of boomerangs.


## Объяснение
Задача требует найти количество "бумерангов" среди заданных точек на плоскости. 
Бумеранг - это упорядоченная тройка точек (i, j, k), где расстояние от точки i до точки j равно расстоянию от точки i до точки k. 
Важно, что порядок точек имеет значение, поэтому (i, j, k) и (i, k, j) считаются разными бумерангами.

## Подходы к решению

### 1. Брутфорс подход (O(n³))
- Перебираем все возможные тройки точек (i, j, k)
- Для каждой тройки вычисляем расстояния от i до j и от i до k
- Если расстояния равны, увеличиваем счетчик
- **Сложность**: O(n³) по времени, O(1) по памяти
- **Недостаток**: неэффективен для больших входных данных

### 2. Оптимизированный подход с хеш-таблицей (O(n²))
- Для каждой точки i создаем хеш-таблицу расстояний
- Перебираем все остальные точки j и вычисляем расстояние от i до j
- Сохраняем количество точек на каждом расстоянии от i
- Для каждого расстояния d с count точек: добавляем count × (count - 1) к результату
- **Сложность**: O(n²) по времени, O(n) по памяти
- **Преимущество**: значительно быстрее для больших данных

### 3. Математическая оптимизация
- Используем квадрат расстояния вместо самого расстояния (избегаем операции извлечения корня)
- Формула: distance² = (x₁ - x₂)² + (y₁ - y₂)²
- Это не влияет на результат, но ускоряет вычисления

**Рекомендуемый подход**: Оптимизированный с хеш-таблицей, так как он обеспечивает оптимальную сложность O(n²) и хорошо масштабируется.


## Example 1:
```
Input: points = [[0,0],[1,0],[2,0]]
Output: 2
Explanation: The two boomerangs are [[1,0],[0,0],[2,0]] and [[1,0],[2,0],[0,0]].
```


## Example 2:
```
Input: points = [[1,1],[2,2],[3,3]]
Output: 2
```

## Example 3:
```
Input: points = [[1,1]]
Output: 0
```


## Constraints:
- n == points.length
- 1 <= n <= 500
- points[i].length == 2
- -104 <= xi, yi <= 104
- All the points are unique.