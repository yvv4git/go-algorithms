# Фильтр Блума

## Что это?
Фильтр Блума — вероятностная структура данных, используемая для проверки принадлежности элемента множеству. Он позволяет быстро определить, что элемент **точно не входит** в множество, но может дать ложноположительный результат, т.е. ошибочно указать, что элемент в множестве есть.

## Как это работает?
Фильтр Блума использует несколько хеш-функций, чтобы преобразовать элементы в индексы битов в массиве. Если на всех этих индексах установлены единицы, элемент, вероятно, присутствует в множестве. Если хотя бы один индекс равен нулю — элемента точно нет.

## Сложности:
- **Время:** Вставка и проверка элемента — O(1).
- **Память:** O(n), где n — размер массива битов.

## Сценарий использования (например, для IP-адресов):
Фильтр Блума эффективен для предобработки запросов, чтобы избежать излишних вычислений. Например, при фильтрации IP-адресов в сетях с высокой пропускной способностью (например, на маршрутизаторах). Он позволяет быстро проверять, присутствует ли IP-адрес в черном списке, без необходимости доступа к медленной памяти или базам данных.

## Как уменьшить коллизии?
1. **Увеличить размер массива:** Это уменьшает вероятность ложных срабатываний. Формула вероятности ложного срабатывания:  
   \[
   (1 - e^{-m/n})
   \]  
   где m — количество элементов, n — размер массива.

2. **Увеличить количество хеш-функций:** Оптимальное количество хеш-функций для минимизации ошибок —  
   \[
   \frac{n}{m} \ln(2)
   \]  
   где m — количество элементов, n — размер массива.
